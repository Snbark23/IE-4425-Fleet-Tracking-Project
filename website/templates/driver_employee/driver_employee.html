{% extends "base.html" %}
{% block title %}Driver Employee Portal{% endblock %}
{% block content %}
<h2 class="text-center">Driver Employee Portal</h2>
<div class="container mt-4">
  <h2 class="text-center mb-4">Driver KPI Dashboard</h2>

  <div class="row text-center">
    {% set kpis = [
      ('Fuel Logs', fuel_logs, 'fa-gas-pump text-success'),
      ('Fuel Cost ($)', "%.2f"|format(fuel_cost), 'fa-dollar-sign text-warning'),
      ('Miles Driven', "%.1f"|format(miles), 'fa-road text-info'),
      ('Incident Reports', incidents, 'fa-exclamation-circle text-danger'),
      ('Accident Reports', accidents, 'fa-car-crash text-secondary')
    ] %}

    {% for label, value, icon in kpis %}
    <div class="col-md-4 mb-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <i class="fa {{ icon }} fa-2x mb-2"></i>
          <h5 class="card-title">{{ label }}</h5>
          <h3 class="text-primary">{{ value }}</h3>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
<div class="container mt-4">
  <div class="row">

    <!-- Fuel Log -->
    <div class="col-md-3">
      <div class="card">
        <div class="card-header bg-warning text-dark">Fuel Log</div>
        <div class="card-body">
          <p>Log vehicle fueling activities.</p>
          <a href="{{ url_for('views.fuel_log') }}" class="btn btn-warning btn-sm">Go</a>
        </div>
      </div>
    </div>

    <!-- Incident Report -->
    <div class="col-md-3">
      <div class="card">
        <div class="card-header bg-secondary text-white">Incident Report</div>
        <div class="card-body">
          <p>Report vehicle incidents.</p>
          <a href="{{ url_for('views.incident_report') }}" class="btn btn-secondary btn-sm">Go</a>
        </div>
      </div>
    </div>

    <!-- Accident Report -->
    <div class="col-md-3">
      <div class="card">
        <div class="card-header bg-danger text-white">Accident Report</div>
        <div class="card-body">
          <p>Report accidents involving vehicles.</p>
          <a href="{{ url_for('views.accident_report') }}" class="btn btn-danger btn-sm">Go</a>
        </div>
      </div>
    </div>

    <!-- Mileage Log -->
    <div class="col-md-3">
      <div class="card">
        <div class="card-header bg-success text-white">Mileage Log</div>
        <div class="card-body">
          <p>Log vehicle mileage.</p>
          <a href="{{ url_for('views.mileage_log') }}" class="btn btn-success btn-sm">Go</a>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}
